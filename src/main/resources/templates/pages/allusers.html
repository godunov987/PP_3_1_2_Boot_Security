<html lang="en" xmlns:th="http://www.thymeleaf.org">

<div th:fragment="tableAllUsers">
  <table class="table">
    <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Age</th>
      <th scope="col">Email</th>
      <th scope="col">Role</th>
      <th scope="col">Edit</th>
      <th scope="col">Delete</th>
    </tr>
    </thead>
    <tbody th:each="user : ${userList}">
    <tr>
      <td scope="row" th:text="${user.getId()}">ID</td>
      <td th:text="${user.getName()}">name</td>
      <td th:text="${user.getLastname()}">lastName</td>
      <td th:text="${user.getAge()}">age</td>
      <td th:text="${user.getEmail()}">Email</td>
      <td>
        <span th:each="role : ${user.getRoles()}" th:text="${role.getRole() + ' '}">Roles</span>
      </td>
      <td>
        <button type="button" data-toggle="modal" class="btn btn-info"
                th:attr="data-target='#edit_' + ${user.getId()}">Edit
        </button>
      </td>
      <td>
        <button type="button" data-toggle="modal" class="btn btn-danger"
                th:attr="data-target='#delete_' + ${user.getId()}">Delete
        </button>
      </td>
    </tr>
    </tbody>
    <div th:each="userAct : ${userList}">
      <div th:attr="id='edit_' + ${userAct.getId()}" th:insert="~{pages/editor :: modal_editor}"
           class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
           aria-hidden="true">Modal editor
      </div>
    </div>
    <div th:each="userAct : ${userList}">
      <div th:attr="id='delete_' + ${userAct.getId()}" th:insert="~{pages/remover :: modal_remover}"
           class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
           aria-hidden="true">Modal editor
      </div>
    </div>
  </table>
</div>
</html>